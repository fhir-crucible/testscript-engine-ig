<?xml version="1.0" encoding="UTF-8"?>

<TestScript xmlns="http://hl7.org/fhir">
  <id value="subtest-execution-example"/>
  <meta>
    <profile value="https://fhir-crucible.github.io/testscript-engine-ig/StructureDefinition/testscript-engine-testscript"/>
  </meta>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><p><b>Generated Narrative: TestScript</b><a name="subtest-execution-example"> </a></p><div style="display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%"><p style="margin-bottom: 0px">Resource TestScript &quot;subtest-execution-example&quot; </p><p style="margin-bottom: 0px">Profile: <a href="StructureDefinition-testscript-engine-testscript.html">TestScript Engine TestScript</a></p></div><p><b>url</b>: <code>https://github.com/fhir-crucible/testscript-generator/SubtestExecutionExample</code></p><p><b>version</b>: 0.0.1</p><p><b>name</b>: SubtestExecutionExample</p><p><b>title</b>: Subtest execution example</p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: 2022-12-27 13:00:51-0400</p><p><b>publisher</b>: MITRE</p><p><b>contact</b>: MITRE: <a href="https://fhir-crucible.github.io/testscript-engine-ig">https://fhir-crucible.github.io/testscript-engine-ig</a></p><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: false</p><p><b>autodelete</b>: false</p><p><b>resource</b>: <a href="Patient-patient-fixture.html">Patient/patient-fixture</a> &quot; CHALMERS&quot;</p></blockquote><h3>Variables</h3><table class="grid"><tr><td>-</td><td><b>Name</b></td><td><b>DefaultValue</b></td><td><b>Description</b></td></tr><tr><td>*</td><td>directExecuteInput</td><td>wrong</td><td>value that will be compared on direct execution</td></tr></table><blockquote><p><b>test</b></p><p><b>name</b>: Direct subtest execution</p><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Extension</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td/><td>Directly_execute</td><td>Execute subtest directly</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: Each value subtest execution one required</p><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Extension</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Expression</b></td><td><b>SourceId</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td/><td>Execute_subtest_on_list_of_values</td><td>Execute_subtest_on_list_of_values</td><td>name.family</td><td>testPatient</td><td>false</td></tr></table></blockquote></blockquote></div>
  </text>
  <url value="https://github.com/fhir-crucible/testscript-generator/SubtestExecutionExample"/>
  <version value="0.0.1"/>
  <name value="SubtestExecutionExample"/>
  <title value="Subtest execution example"/>
  <status value="draft"/>
  <experimental value="true"/>
  <date value="2022-12-27T13:00:51-04:00"/>
  <publisher value="MITRE"/>
  <contact>
    <name value="MITRE"/>
    <telecom>
      <system value="url"/>
      <value value="https://fhir-crucible.github.io/testscript-engine-ig"/>
    </telecom>
  </contact>
  <fixture id="testPatient">
    <autocreate value="false"/>
    <autodelete value="false"/>
    <resource>
      <reference value="Patient/patient-fixture"/>
    </resource>
  </fixture>
  <variable>
    <name value="directExecuteInput"/>
    <defaultValue value="wrong"/>
    <description value="value that will be compared on direct execution"/>
  </variable>
  <test>
    <name value="Direct subtest execution"/>
    <action>
      <assert>
        <extension url="https://fhir-crucible.github.io/testscript-engine-ig/StructureDefinition/assert-subtest">
          <extension url="testName">
            <valueString value="SubtestToExecuteExample"/>
          </extension>
          <extension url="bindVariable">
            <extension url="bindSource">
              <valueString value="directExecuteInput"/>
            </extension>
            <extension url="bindTarget">
              <valueString value="checkValue"/>
            </extension>
          </extension>
        </extension>
        <label value="Directly_execute"/>
        <description value="Execute subtest directly"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test>
    <name value="Each value subtest execution one required"/>
    <action>
      <assert>
        <extension url="https://fhir-crucible.github.io/testscript-engine-ig/StructureDefinition/assert-subtest-each">
          <extension url="testName">
            <valueString value="SubtestToExecuteExample"/>
          </extension>
          <extension url="bindEachTarget">
            <valueString value="checkValue"/>
          </extension>
          <extension url="allMustPass">
            <valueBoolean value="false"/>
          </extension>
        </extension>
        <label value="Execute_subtest_on_list_of_values"/>
        <description value="Execute_subtest_on_list_of_values"/>
        <expression value="name.family"/>
        <sourceId value="testPatient"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
</TestScript>